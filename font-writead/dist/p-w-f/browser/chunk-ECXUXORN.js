import{a as z}from"./chunk-TOF2D25E.js";import{a as R}from"./chunk-LYWA4Y6E.js";import{a as B,b as F}from"./chunk-SX5I7WV2.js";import{a as $,b as M}from"./chunk-R5XHDKYW.js";import"./chunk-UWMCCICC.js";import{f as w}from"./chunk-VNGAG7MR.js";import{a as E,b as L}from"./chunk-3K24DYGI.js";import{t as P,u as G}from"./chunk-5C3JZQF2.js";import"./chunk-4PAWWMQF.js";import{p as I}from"./chunk-HHBVVXWG.js";import{Hb as p,Ib as D,Jb as u,Pb as S,Qa as s,Wb as V,Xb as j,Z as c,ca as g,fb as y,hb as x,la as d,ma as _,mb as k,nb as T,ob as b,pb as v,qb as o,rb as l,sb as h,wb as C,xb as f,yb as m}from"./chunk-JKC5LLPW.js";var H=(r,i)=>i.id_cap_pl;function J(r,i){if(r&1){let e=C();o(0,"p-chip",0),f("click",function(){let t=d(e).$implicit,a=m();return _(a.irDetalleLibro(a.nombre.titulo,t.id_cap_pl))}),l(),p(1)}if(r&2){let e=i.$implicit;x("label",e.nro_capitulo),s(),u(" ",e.id_editorial_pl,`
`)}}var O=(()=>{let i=class i{constructor(){this.cap=[],this._router=c(w),this._e=c(F)}irDetalleLibro(n,t){let a=n.split(" ")?.join("_")?.split("/")?.join("_");this._e.nagivateCapitule(a,t)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=g({type:i,selectors:[["app-lista-cap"]],inputs:{cap:"cap",nombre:"nombre"},standalone:!0,features:[S],decls:2,vars:0,consts:[[1,"text-xs","cursor-pointer",3,"click","label"]],template:function(t,a){t&1&&b(0,J,2,2,null,null,H),t&2&&v(a.cap)},dependencies:[L,E]});let r=i;return r})();var K=(r,i)=>i.id_genero;function Q(r,i){if(r&1){let e=C();o(0,"p-chip",12),f("click",function(){let t,a=d(e).$implicit,A=m();return _(A._router.navigate(["/dashboard/home/libro/genero",a.nombre==null||(t=a.nombre.split(" "))==null||(t=t.join("_"))==null||(t=t.split("/"))==null?null:t.join("_")]))}),l()}if(r&2){let e=i.$implicit;x("label",e.nombre)}}function U(r,i){if(r&1&&(h(0,"p-divider"),o(1,"div",22)(2,"div",23),h(3,"app-lista-cap",24),l()()),r&2){let e=m().$implicit;s(3),x("cap",e.cap_pl_ln)("nombre",e)}}function W(r,i){if(r&1){let e=C();o(0,"div",11)(1,"h2",13),p(2),l(),o(3,"span",14),p(4),l(),o(5,"p",15),p(6),l(),o(7,"div",16)(8,"span"),p(9,"Autor: "),o(10,"p",17),f("click",function(){let t=d(e).$implicit,a=m();return _(a.irPerfil(t.id_autor))}),p(11),l()(),o(12,"span"),p(13,"G\xE9nero: Drama, Comedia, Suspenso"),l(),o(14,"span"),p(15),l(),o(16,"span"),p(17),V(18,"formatfecha"),l()(),o(19,"div",18)(20,"button",19),h(21,"i",20),o(22,"span",21),f("click",function(){let t=d(e).$implicit,a=m();return _(a.abrirCap(t.id_pl_ln))}),p(23,"Ver Capitulos"),l()()(),y(24,U,4,2),l()}if(r&2){let e=i.$implicit,n=m();s(2),u("Libro ",e.titulo,""),s(2),u("Titulo Original: ",e.titulo,""),s(2),u(" ",e.descripcion," "),s(5),D(e&&(e.autor==null||e.autor.usuario==null||e.autor.usuario.persona==null?null:e.autor.usuario.persona.nombre)),s(4),u("Nro Capitulo: ",e.cap_pl_ln==null?null:e.cap_pl_ln.length," capitulos"),s(2),u("Fecha de publicaci\xF3n: ",j(18,7,e.cap_pl_ln&&(e.cap_pl_ln[0].editorial==null?null:e.cap_pl_ln[0].editorial.fecha_registro)),""),s(7),k(24,n.visualizacionComentarios[e.id_pl_ln]?24:-1)}}var he=(()=>{let i=class i{constructor(){this.listaGenero=[],this.listaData=[],this.listPL=[],this.abrir=!0,this.visualizacionComentarios={},this._genero=c(z),this._router=c(w),this._ec=c(F),this._p=c(B)}ngOnInit(){this._genero.getGeneros().subscribe(n=>{this.listaData=n,this.listaGenero=this.listaData.filter(t=>t.id_categoria===3)}),this._p.getListarPubLibros().subscribe({next:n=>{this.listPL=n},error:n=>{console.log(n)}})}abrirCap(n){this.visualizacionComentarios[n]=this.visualizacionComentarios?!this.visualizacionComentarios[n]:!this.visualizacionComentarios[n]}irPerfil(n){this._ec.navigateToProfile(n)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=g({type:i,selectors:[["app-libro"]],standalone:!0,features:[S],decls:21,vars:0,consts:[[1,"p-6","shadow-3","flex","flex-column","md:flex-row","align-items-center","justify-content-between","border-round",2,"background","linear-gradient(0deg, rgba(0, 123, 255, 0.5), rgba(0, 123, 255, 0.5)), linear-gradient(92.54deg, #1C80CF 47.88%, #FFFFFF 100.01%)"],[1,"pr-4"],[1,"text-blue-100","font-semibold"],[1,"text-white","font-bold","text-2xl"],["src","../../../../assets/appp.jpg","alt","",1,"w-7rem","h-7rem","border-circle","shadow-2","border-3","border-white"],[1,"grid","pt-2"],[1,"col-12"],[1,"p-3","shadow-3","border-round"],[1,"font-semibold","text-lg","pb-2"],[1,"grid","justify-content-between","p-2"],[1,"p-1","cursor-pointer",3,"label"],[1,"surface-card","shadow-3","border-round","p-4","mt-2","mb-4"],[1,"p-1","cursor-pointer",3,"click","label"],[1,"m-0","mb-3"],[1,"text-sm","font-italic","text-color-secondary"],[1,"text-justify"],[1,"flex","flex-column","gap-2"],[1,"no-underline","cursor-pointer","text-blue-500",3,"click"],[1,"text-center","mt-4"],["pButton",""],[1,"pi","pi-plus"],[1,"ml-1",3,"click"],[1,"cap-scroll"],[1,"flex","align-items-center","justify-content-between","gap-2","flex-wrap"],[3,"cap","nombre"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),p(3,"Colleccion de libros"),l(),o(4,"div",3),p(5,"Descubre mundos nuevos mientras exploras nuestra colecci\xF3n"),l()(),o(6,"div"),h(7,"img",4),l()(),o(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),p(12,"Generos"),l(),o(13,"div",9),b(14,Q,1,1,"p-chip",10,K),l()()(),o(16,"div",6)(17,"span"),p(18,"Libros Recientes"),l(),b(19,W,25,9,"div",11,T),l()()),t&2&&(s(14),v(a.listaGenero),s(5),v(a.listPL))},dependencies:[I,L,E,O,R,M,$,G,P]});let r=i;return r})();export{he as default};
